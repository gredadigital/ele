@import "tailwindcss";
@import url('https://fonts.googleapis.com/css2?family=Noto+Sans:wght@300;400;500&family=EB+Garamond:ital,wght@0,600;0,700;1,700&display=swap');

/* Indica a Tailwind 4 dónde escanear contenido (rutas relativas a este CSS) */
@source "../../*.php" "../../**/*.php";

@theme {
    /* COLORES */
    --color-primario: #1CA1FE;
    --color-secundario: #FFEB52;
    --color-terciario: #F8FCFF;
    --color-btn: #404040;
    --color-pastel: #D1DCE5;
    --color-dark: #23242A;
    --color-black: #000;
    --color-light: #fff;
    --color-azulgris: #98B6CB;
    --color-otrogris: #f4f4f4;
    --color-lightgrey: #c1c1c1;
    --color-orange: #FF7927;
    --color-pink: #F696E0;

    /* Tipografías */
    --font-sans: "Noto Sans", system-ui, sans-serif;
    --font-serif: "EB Garamond";

    /* Pesos */
    --font-weight-light: 300;    /* Noto Sans Light */
    --font-weight-regular: 400;  /* Noto Sans Regular */
    --font-weight-medium: 500;   /* Noto Sans Medium */
    --font-weight-semibold: 600; /* EB Garamond SemiBold */
    --font-weight-bold: 700;     /* EB Garamond Bold Italic */

    /* Tamaños de texto */
    --text-14: 14px;
    --text-16: 16px;
    --text-17: 18px;
    --text-21: 21px;
    --text-22: 22px;
    --text-23: 23px;
    --text-24: 24px;
    --text-27: 27px;
    --text-64: 64px;
    --text-42: 42px;
    --text-32: 32px;
    --text-36: 36px;

    /* Spacers */
    --spacing-paddingm: 32px;
    --spacing-paddingm2: 16px;
    --spacing-logo-w: 30px;
    --spacing-logo-h: 37px;
    --spacing-big: 120px;
    --spacing-paddingd: 132px;
    --spacing-morep: 60px;

    --spacing-16: 16px;
    --spacing-28: 28px;
    --spacing-38: 38px;
    --spacing-63: 63px;
    --spacing-83: 83px;
    --spacing-186: 186px;
}

/* ESTILOS BASE */
@layer base {
    body {
        @apply font-sans font-regular;
    }
}

/* UTILIDAD SUELTA (tipo Tailwind) */
@utility h-screen-safe {
    height: 100svh;
}

/* COMPONENTES */
@layer components {
    /* Sprite calavera */
    .calavera {
        width: 353px;
        height: 353px;
        background: url("../images/craneo_sprite12t.png") no-repeat;
        animation: calavera 1s steps(12) infinite;
    }

    @media screen and (max-width: 820px) {
        .calavera {
            width: 200px;
            height: 200px;
            background-size: auto 200px;
            animation: calaveramd 1s steps(12) infinite;
        }
    }

    /* Hero: animación secuencial de spans */
    .hero_txt span {
        display: inline-block;      /* necesario para mover en Y sin afectar la línea */
        opacity: 0;
        transform: translateY(14px);
        animation: none;            /* se aplica al activar .animate */
    }

    .hero_txt.animate span {
        animation: fadeUp 0.6s ease forwards;
        animation-delay: calc(var(--i, 0) * 0.28s);
    }

    .hero_txt.animate p span {          /* "No es magia" */
        --i: 0;
    }

    .hero_txt.animate h1 span:nth-of-type(1) { /* "Es branding bien hecho" */
        --i: 1;
    }

    .hero_txt.animate h1 span:nth-of-type(2) { /* "(pero se siente mágico)." */
        --i: 2;
    }

    /* Accesibilidad: respeta usuarios que prefieren menos movimiento */
    @media (prefers-reduced-motion: reduce) {
        .hero_txt span,
        .hero_txt.animate span {
            animation: none !important;
            opacity: 1;
            transform: none;
        }
    }

    /* Componente menú mobile */
    .menu_mobile nav .flex.flex-col li a {
        @apply p-0 block;
    }

    /* Componente: precarga con círculo que se cierra */
    .precarga {
        clip-path: circle(150% at 50% 50%);
        -webkit-clip-path: circle(150% at 50% 50%);
        transition:
                clip-path 1s ease-in-out,
                -webkit-clip-path 1s ease-in-out,
                opacity 3s ease-in-out;
    }

    .precarga--hide {
        clip-path: circle(0% at 50% 50%);
        -webkit-clip-path: circle(0% at 50% 50%);
        opacity: 0;
        pointer-events: none;
    }

    /* Componente: galería/cinta transportadora */
    .gal-wrapper {
        @apply w-[100%] max-w-[1536px] mx-auto overflow-hidden;
        --gal-item-height: 140px;
        height: var(--gal-item-height);
    }

    .gal-track {
        display: inline-flex;
        align-items: center;
        gap: 8px;
        height: 100%;
        width: max-content;
    }

    .gal-item {
        flex: 0 0 auto;
        width: 260px;
        height: 100%;
        overflow: hidden;
    }

    .gal-item img {
        @apply w-full h-full object-cover;
    }

    /* Fila 1: derecha → izquierda */
    .gal-track-left {
        animation: gal-marquee-left 20s linear infinite;
    }

    /* Fila 2: izquierda → derecha */
    .gal-track-right {
        animation: gal-marquee-right 20s linear infinite;
    }

    /* Responsivo galería */
    @media (max-width: 767px) {
        .gal-wrapper {
            --gal-item-height: 110px;
        }
        .gal-item {
            width: 200px;
        }
    }

    @media (min-width: 1280px) {
        .gal-wrapper {
            --gal-item-height: 160px;
        }
        .gal-item {
            width: 320px;
        }
    }
}

/* UTILIDADES REUTILIZABLES (tipo “clase única”) */
/* En Tailwind 4, @utility debe estar al nivel raíz, no dentro de @layer */
@utility overlay-fade-in {
    animation: overlay-fade-in 0.35s ease-out forwards;
}

@utility overlay-fade-out {
    animation: overlay-fade-out 0.45s ease-in forwards;
}

/* Panel lateral: entra/sale desde la derecha */
@utility panel-slide-in-right {
    animation: panel-slide-in-right 0.45s cubic-bezier(.22,.61,.36,1) forwards;
}

@utility panel-slide-out-right {
    animation: panel-slide-out-right 0.65s ease-out forwards;
}

/* KEYFRAMES (globales) */

/* Calavera */
@keyframes calavera {
    from { background-position: 0 0; }
    to   { background-position: -4241px 0; }
}

@keyframes calaveramd {
    from { background-position: 0 0; }
    to   { background-position: -2403px 0; }
}

/* Hero fadeUp */
@keyframes fadeUp {
    from {
        opacity: 0;
        transform: translateY(14px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

/* Galería */
@keyframes gal-marquee-left {
    from {
        transform: translateX(0%);
    }
    to {
        transform: translateX(-50%);
    }
}

@keyframes gal-marquee-right {
    from {
        transform: translateX(-50%);
    }
    to {
        transform: translateX(0%);
    }
}

/* Overlay */
@keyframes overlay-fade-in {
    0%   { opacity: 0; }
    100% { opacity: 1; }
}

@keyframes overlay-fade-out {
    0%   { opacity: 1; }
    100% { opacity: 0; }
}

/* Panel lateral */
@keyframes panel-slide-in-right {
    0%   { transform: translateX(100%); }
    100% { transform: translateX(0); }
}

@keyframes panel-slide-out-right {
    0%   { transform: translateX(0); }
    100% { transform: translateX(100%); }
}
